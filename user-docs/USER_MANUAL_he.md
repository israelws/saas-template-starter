<div dir="rtl" style="text-align: right;">

<style>
/* RTL styles for Hebrew manual */
body, div, p, li, td, th {
  text-align: right !important;
  direction: rtl !important;
}

ul, ol {
  padding-right: 20px;
  padding-left: 0;
}

/* Keep code blocks LTR */
pre, code {
  direction: ltr !important;
  text-align: left !important;
}

/* Tables */
table {
  text-align: right;
}

th, td {
  text-align: right;
}
</style>

# מדריך למשתמש - פלטפורמת SAAS

## תוכן עניינים

1. [מבוא](#מבוא)
2. [התחלת העבודה](#התחלת-העבודה)
3. [ניהול ארגונים](#ניהול-ארגונים)
4. [ניהול משתמשים](#ניהול-משתמשים)
5. [ניהול תפקידים](#ניהול-תפקידים)
6. [ניהול מדיניות](#ניהול-מדיניות)
7. [ניהול תכונות](#ניהול-תכונות)
8. [שיטות עבודה מומלצות](#שיטות-עבודה-מומלצות)
9. [פתרון בעיות](#פתרון-בעיות)

---

## 1. מבוא

ברוכים הבאים למדריך המשתמש של פלטפורמת SAAS. מדריך מקיף זה יעזור לכם להבין ולהשתמש ביעילות במערכת ניהול ההרשאות המתקדמת המבוססת על בקרת גישה מבוססת תכונות (Attribute-Based Access Control - ABAC).

### מושגי מפתח

<div style="text-align: right;">

- **ארגונים (Organizations)**: מבנים היררכיים המייצגים חברות, חטיבות, מחלקות וצוותים
- **משתמשים (Users)**: חשבונות אישיים שיכולים להשתייך למספר ארגונים
- **תפקידים (Roles)**: תפקידי עבודה או משרות (למשל: מנהל, מבקר)
- **מדיניות (Policies)**: חוקים המגדירים אילו פעולות משתמשים יכולים לבצע
- **תכונות (Attributes)**: מאפיינים דינמיים המשמשים בהערכת מדיניות

</div>

---

## 2. התחלת העבודה

### כניסה ראשונה

<div style="text-align: right;">

1. נווטו לדף הכניסה של הפלטפורמה
2. הזינו את פרטי ההתחברות שלכם
3. בכניסה הראשונה, תופנו ללוח הבקרה
4. בחרו את הארגון הפעיל שלכם מהניווט העליון

</div>

### סקירת לוח הבקרה

<div style="text-align: right;">

לוח הבקרה הראשי מספק:
- בורר ארגונים (ימין למעלה)
- סרגל ניווט צדדי עם סעיפים מרכזיים
- סטטיסטיקות מהירות ופעילויות אחרונות
- כפתורי פעולה למשימות נפוצות

</div>

---

## 3. ניהול ארגונים

### הבנת ההיררכיה הארגונית

<div style="text-align: right;">

ארגונים עוקבים אחר מבנה היררכי קפדני:

</div>

<div dir="ltr">

```
חברה (Company)
├── חטיבה (Division)
│   ├── מחלקה (Department)
│   │   └── צוות (Team)
├── סוכנות ביטוח (Insurance Agency)
│   └── סניף ביטוח (Insurance Branch)
```

</div>

### יצירת ארגונים

#### דוגמה 1: יצירת חברה

<div style="text-align: right;">

1. נווטו אל **לוח בקרה > ארגונים**
2. לחצו על **"צור ארגון"**
3. מלאו את הטופס:
   - **שם (Name)**: "חברת אקמה"
   - **סוג (Type)**: חברה
   - **ארגון אב (Parent)**: (השאירו ריק לחברות ראשיות)
   - **תיאור (Description)**: "הישות התאגידית הראשית"
4. לחצו **"צור"**

</div>

#### דוגמה 2: יצירת חטיבה

1. מדף הארגונים, לחצו **"צור ארגון"**
2. מלאו:
   - **שם**: "פעילות צפון אמריקה"
   - **סוג**: חטיבה
   - **ארגון אב**: בחרו "חברת אקמה" (חייב להיות חברה)
   - **תיאור**: "פעילות אזורית בצפון אמריקה"
3. לחצו **"צור"**

#### דוגמה 3: יצירת מחלקה

1. צרו ארגון חדש
2. מלאו:
   - **שם**: "מחלקת מכירות"
   - **סוג**: מחלקה
   - **ארגון אב**: בחרו "פעילות צפון אמריקה" (חייב להיות חטיבה)
   - **תיאור**: "צוות מכירות לאזור צפון אמריקה"

### ניהול ארגונים

#### צפייה בהיררכיית הארגון

1. עברו אל **לוח בקרה > ארגונים**
2. השתמשו בתצוגת העץ כדי לראות את המבנה ההיררכי
3. לחצו על כל ארגון כדי לצפות בפרטים
4. השתמשו בכפתורי הרחבה/כיווץ כדי לנווט

#### עריכת ארגונים

1. לחצו על ארגון בעץ
2. בחרו **"ערוך"** מתפריט הפעולות
3. עדכנו מידע (הערה: לא ניתן לשנות סוג ארגון)
4. שמרו שינויים

#### מגבלות ארגון

<div style="text-align: right;">

- **חברות** יכולות להכיל רק חטיבות או סוכנויות ביטוח כילדים
- **חטיבות** יכולות להכיל רק מחלקות כילדים
- **מחלקות** יכולות להכיל רק צוותים כילדים
- **צוותים** לא יכולים להכיל ארגוני ילדים
- **סוכנויות ביטוח** יכולות להכיל רק סניפי ביטוח כילדים

</div>

---

## 4. ניהול משתמשים

### יצירת משתמשים

#### דוגמה 1: יצירת משתמש מנהל

1. נווטו אל **לוח בקרה > משתמשים**
2. לחצו על **"צור משתמש"**
3. מלאו:
   - **דוא"ל**: manager@acme.com
   - **שם פרטי**: יוחנן
   - **שם משפחה**: כהן
   - **ארגונים**: בחרו "מחלקת מכירות"
   - **תפקידים**: בחרו "מנהל"
4. לחצו **"צור"**

#### דוגמה 2: יצירת משתמש רב-ארגוני

1. צרו משתמש חדש
2. מלאו מידע בסיסי
3. בסעיף ארגונים:
   - הוסיפו "פעילות צפון אמריקה" עם תפקיד "מנהל"
   - הוסיפו "פעילות אירופה" עם תפקיד "מבקר"
4. משתמש זה יוכל לעבור בין ארגונים

### ניהול חברויות משתמש

#### הוספת חברות בארגון

1. עברו לדף פרטי המשתמש
2. לחצו **"הוסף ארגון"**
3. בחרו ארגון ותפקיד
4. שמרו שינויים

#### הסרת חברות בארגון

1. עברו לדף פרטי המשתמש
2. מצאו את החברות בארגון
3. לחצו על סמל ההסרה
4. אשרו הסרה

### ניהול סטטוס משתמש

<div style="text-align: right;">

- **פעיל (Active)**: המשתמש יכול להתחבר ולגשת למשאבים
- **לא פעיל (Inactive)**: המשתמש לא יכול להתחבר
- **מושעה (Suspended)**: הגבלה זמנית, ניתן להפעיל מחדש

</div>

---

## 5. ניהול תפקידים

### הבנת תפקידים

<div style="text-align: right;">

תפקידים מגדירים תפקידי עבודה, לא הרשאות. דוגמאות:
- **מנהל מערכת (Admin)**: מנהל ארגון
- **מנהל (Manager)**: מנהל מחלקה או צוות
- **מבקר (Auditor)**: גישת קריאה בלבד למטרות ציות
- **משתמש (User)**: משתמש סטנדרטי

</div>

### יצירת תפקידים מותאמים אישית

#### דוגמה: יצירת תפקיד מנהל אזורי

1. נווטו אל **לוח בקרה > תפקידים**
2. לחצו על **"צור תפקיד"**
3. מלאו:
   - **שם תפקיד**: regional_manager (אותיות קטנות, קווים תחתונים)
   - **שם תצוגה**: מנהל אזורי
   - **תיאור**: "מנהל מספר מחלקות באזור"
   - **סטטוס**: פעיל
4. לחצו **"צור"**

### הערות חשובות על תפקידים

<div style="text-align: right;">

- לתפקידים אין הרשאות מצורפות
- הרשאות ניתנות דרך מדיניות
- לא ניתן לערוך תפקידי מערכת (מנהל, מנהל, משתמש)
- ניתן ליצור תפקידים מותאמים אישית לצרכים ספציפיים

</div>

---

## 6. ניהול מדיניות

### הבנת מדיניות

מדיניות מגדירה מי יכול לעשות מה על אילו משאבים ובאילו תנאים.

### רכיבי מדיניות

<div style="text-align: right;">

1. **נושאים (Subjects)**: על מי חלה המדיניות (תפקידים, משתמשים, קבוצות)
2. **משאבים (Resources)**: לאילו משאבים ניתן לגשת
3. **פעולות (Actions)**: אילו פעולות מותרות
4. **תנאים (Conditions)**: מתי המדיניות חלה
5. **תכונות משאב (Resource Attributes)**: הגדרת היקף משאבים לפי תכונות

</div>

### יצירת מדיניות

#### דוגמה 1: מדיניות מנהל מחלקה

מדיניות זו מאפשרת למנהלים לנהל את כל המשאבים במחלקה שלהם.

1. נווטו אל **לוח בקרה > מדיניות**
2. לחצו על **"צור מדיניות"**
3. הגדירו:

**מידע בסיסי:**
- שם (Name): "גישת מנהל מחלקה"
- תיאור (Description): "גישה מלאה למשאבי המחלקה"
- היקף (Scope): ארגון
- השפעה (Effect): אפשר (Allow)

**נושאים (Subjects):**
- תפקידים: ["מנהל"]

**משאבים (Resources):**
- סוגים: ["מוצר (product)", "לקוח (customer)", "הזמנה (order)"]
- תכונות:
  - organizationId: ${subject.organizationId}

**פעולות (Actions):**
- בחרו הכל: יצירה (create), קריאה (read), עדכון (update), מחיקה (delete), רשימה (list)

**שמרו את המדיניות**

#### דוגמה 2: מדיניות קריאה בלבד למבקר

1. צרו מדיניות חדשה
2. הגדירו:

**מידע בסיסי:**
- שם: "גישת קריאה למבקר"
- תיאור: "גישת קריאה בלבד למטרות ביקורת"
- היקף: ארגון
- השפעה: אפשר

**נושאים:**
- תפקידים: ["מבקר"]

**משאבים:**
- סוגים: ["*"] (כל סוגי המשאבים)
- תכונות:
  - organizationId: ${subject.organizationId}

**פעולות:**
- בחרו: קריאה, רשימה

**תנאים:**
- הוסיפו תנאי: subject.role === 'מבקר'

#### דוגמה 3: מדיניות גישה מבוססת זמן

1. צרו מדיניות לקבלנים עם הגבלות זמן:

**מידע בסיסי:**
- שם: "גישת שעות עבודה לקבלן"
- היקף: ארגון
- השפעה: אפשר

**נושאים:**
- תפקידים: ["קבלן"]

**משאבים:**
- סוגים: ["פרויקט", "מסמך"]
- תכונות:
  - projectId: ${subject.projectId}

**פעולות:**
- קריאה, עדכון

**תנאים:**
- הוסיפו: environment.timeOfDay >= '09:00'
- הוסיפו: environment.timeOfDay <= '17:00'
- הוסיפו: environment.dayOfWeek !== 'ראשון'
- הוסיפו: environment.dayOfWeek !== 'שבת'

### תכונות מדיניות מתקדמות

#### פעולות ספציפיות למשאבים (Resource-Specific Actions)

כעת ניתן להגדיר פעולות שונות עבור סוגי משאבים שונים באותה מדיניות:

1. לחץ על "הוסף משאב" (Add Resource) בלשונית כללי המדיניות
2. בחר סוג משאב (לדוגמה: "User")
3. סמן פעולות ספציפיות למשאב זה (לדוגמה: "read", "update")
4. הוסף משאב נוסף עם פעולות שונות (לדוגמה: "Product" עם "create", "read", "update", "delete")

זה מאפשר שליטה מדויקת כאשר מדיניות אחת יכולה להעניק הרשאות שונות למשאבים שונים.

#### הרשאות ברמת שדה (Field-Level Permissions)

שליטה בגישה לשדות ספציפיים בתוך משאבים:

1. הפעל "הרשאות ברמת שדה" (Field-level permissions) בלשונית הרשאות שדה
2. בחר סוג משאב
3. עבור כל סוג הרשאה (Readable/Writable/Denied):
   - לחץ על תפריט "בחר שדות" (Select fields)
   - בחר שדות ספציפיים מרשימות מקוטלגות
   - השדות שנבחרו יופיעו כתגיות מתחת
   - לחץ "הוסף נבחרים" (Add Selected) להחלה

**כללי הרשאות שדה:**
- **קריא (Readable)**: רק שדות אלה יוחזרו בתגובות API
- **כתיב (Writable)**: רק שדות אלה ניתן לשנות בעדכונים
- **נדחה (Denied)**: שדות אלה חסומים לחלוטין (דורס הרשאות אחרות)
- השתמש ב-"*" כדי לאפשר את כל השדות מלבד אלה שנדחו במפורש

#### שימוש במשתנים דינמיים

משתנים דינמיים מאפשרים למדיניות להתאים להקשר המשתמש:

- `${subject.organizationId}` - הארגון הנוכחי של המשתמש
- `${subject.departmentId}` - המחלקה של המשתמש
- `${subject.userId}` - מזהה המשתמש
- `${environment.ipAddress}` - כתובת IP של הבקשה
- `${environment.timestamp}` - הזמן הנוכחי

#### תכונות משאב

שליטה על אילו משאבים ספציפיים המדיניות משפיעה:

<div dir="ltr">

```javascript
// רק משאבים בארגון של המשתמש
organizationId: "${subject.organizationId}"

// רק משאבים בסטטוס ספציפי
status: "פעיל"

// רק משאבים שנוצרו על ידי המשתמש
createdBy: "${subject.userId}"
```

</div>

#### תנאים מורכבים

שילוב מספר תנאים לשליטה מדויקת:

<div dir="ltr">

```javascript
// מנהל יכול לאשר הזמנות עד 10,000$
subject.role === 'מנהל' && resource.amount < 10000

// גישה רק בשעות המשרד
environment.timeOfDay >= '09:00' && environment.timeOfDay <= '18:00'

// גישה ספציפית לאזור
subject.region === resource.region
```

</div>

---

## 7. ניהול תכונות

### הבנת תכונות

תכונות הן מאפיינים דינמיים שניתן לצרף ל:
- **נושאים (Subjects)** (משתמשים): תפקיד (role), מחלקה (department), רמת סיווג (clearanceLevel)
- **משאבים (Resources)** (אובייקטים): סטטוס (status), בעלים (owner), סיווג (classification)
- **סביבה (Environment)** (הקשר): זמן (time), מיקום (location), סוג מכשיר (deviceType)

### יצירת תכונות

#### דוגמה 1: יצירת תכונת רמת סיווג

1. נווטו אל **לוח בקרה > תכונות**
2. לחצו על **"צור תכונה"**
3. הגדירו:
   - **שם (Name)**: clearanceLevel
   - **קטגוריה (Category)**: נושא (subject)
   - **סוג (Type)**: מחרוזת (string)
   - **ערכים אפשריים (Possible Values)**: ["ציבורי (public)", "פנימי (internal)", "סודי (confidential)", "סודי ביותר (secret)"]
   - **תיאור (Description)**: "רמת סיווג ביטחוני"
4. שמרו

#### דוגמה 2: יצירת סיווג משאב

1. צרו תכונה חדשה
2. הגדירו:
   - **שם**: classification
   - **קטגוריה**: משאב
   - **סוג**: מחרוזת
   - **ערכים אפשריים**: ["ציבורי", "פנימי", "מוגבל"]

### שימוש בתכונות במדיניות

לאחר היצירה, ניתן להשתמש בתכונות בתנאי מדיניות:

<div dir="ltr">

```javascript
// רק משתמשים עם סיווג מתאים
subject.clearanceLevel === 'סודי' || subject.clearanceLevel === 'סודי ביותר'

// התאמת סיווג לסיווג
subject.clearanceLevel >= resource.classification
```

</div>

---

## 8. שיטות עבודה מומלצות

### מבנה ארגוני

1. **שמרו על פשטות (Keep it Simple)**: אל תיצרו רמות היררכיה מיותרות
2. **קיבוץ לוגי (Logical Grouping)**: קבצו לפי פונקציה, לא רק גיאוגרפיה
3. **שמות עקביים (Consistent Naming)**: השתמשו בשמות ברורים ותיאוריים

### עיצוב תפקידים

1. **מבוסס עבודה (Job-Based)**: תנו שמות לתפקידים על פי תפקידי עבודה
2. **הימנעו משמות הרשאה (Avoid Permission Names)**: אל תשתמשו ב"יכול_לערוך_מוצרים"
3. **ניתן לשימוש חוזר (Reusable)**: עצבו תפקידים שעובדים על פני ארגונים

### עיצוב מדיניות

1. **עקרון ההרשאה המינימלית (Principle of Least Privilege)**: תנו גישה מינימלית הכרחית
2. **השתמשו בתכונות משאב (Use Resource Attributes)**: הגדירו מדיניות לארגון
3. **בדקו ביסודיות (Test Thoroughly)**: השתמשו בבודק המדיניות לפני פריסה
4. **תעדו מטרה (Document Purpose)**: תיאורים ברורים עוזרים בתחזוקה

### שיטות אבטחה מומלצות

1. **ביקורות קבועות (Regular Audits)**: סקרו מדיניות וגישה רבעונית
2. **הסירו גישה ישנה (Remove Stale Access)**: השביתו חשבונות לא פעילים
3. **עקבו אחר שינויים (Monitor Changes)**: עקבו אחר שינויי מדיניות
4. **הפרדת תפקידים (Separation of Duties)**: פצלו פעולות רגישות

---

## 9. פתרון בעיות

### בעיות נפוצות

#### שגיאות "גישה נדחתה" (Access Denied)

1. בדקו את הארגון הפעיל של המשתמש
2. ודאו שלמשתמש יש תפקיד מתאים
3. בדקו אם קיימות מדיניות רלוונטיות
4. בדקו מדיניות עם בודק המדיניות (Policy Tester)
5. ודאו שתכונות המשאב תואמות

#### מדיניות לא עובדת (Policy Not Working)

1. ודאו שהמדיניות פעילה (Active)
2. בדקו את היקף המדיניות (Scope) - מערכת (System) לעומת ארגון (Organization)
3. ודאו שהנושא תואם (תפקיד/משתמש/קבוצה)
4. בדקו תנאים עם ערכים בפועל
5. בדקו תכונות משאב (Resource Attributes)

#### בעיות היררכיית ארגון (Organization Hierarchy Issues)

1. ודאו יחסי הורה-ילד (Parent-Child)
2. בדקו שסוגי הארגון תואמים למגבלות
3. ודאו שאין הפניות מעגליות
4. תקפו את כל השדות הנדרשים

### קבלת עזרה

1. בדקו יומני ביקורת (Audit Logs) לפרטים
2. השתמשו בבודק המדיניות (Policy Tester) לניפוי באגים (Debugging)
3. פנו לתמיכה עם:
   - מזהה משתמש (User ID)
   - מזהה ארגון (Organization ID)
   - זמן הבעיה
   - הודעות שגיאה

---

## נספח א: ספריית דוגמאות מדיניות

### היררכיית אישור פיננסי

<div dir="ltr">

```javascript
// צוות זוטר: עד 1,000$
{
  subjects: { roles: ["צוות"] },
  resources: { types: ["הזמנת_רכש"] },
  actions: ["יצירה", "קריאה"],
  conditions: ["resource.amount <= 1000"]
}

// מנהלים: עד 10,000$
{
  subjects: { roles: ["מנהל"] },
  resources: { types: ["הזמנת_רכש"] },
  actions: ["יצירה", "קריאה", "אישור"],
  conditions: ["resource.amount <= 10000"]
}

// מנהלים בכירים: עד 100,000$
{
  subjects: { roles: ["מנהל_בכיר"] },
  resources: { types: ["הזמנת_רכש"] },
  actions: ["יצירה", "קריאה", "אישור"],
  conditions: ["resource.amount <= 100000"]
}
```

</div>

### בידוד מחלקתי

<div dir="ltr">

```javascript
// משתמשים יכולים לראות רק את נתוני המחלקה שלהם
{
  subjects: { roles: ["משתמש"] },
  resources: { 
    types: ["*"],
    attributes: {
      departmentId: "${subject.departmentId}"
    }
  },
  actions: ["קריאה", "רשימה"]
}
```

</div>

### שיתוף פעולה בין מחלקות

<div dir="ltr">

```javascript
// חברי פרויקט יכולים לגשת למשאבי הפרויקט ללא קשר למחלקה
{
  subjects: { groups: ["חברי_פרויקט"] },
  resources: { 
    types: ["פרויקט", "משימה", "מסמך"],
    attributes: {
      projectId: "${subject.projects}"
    }
  },
  actions: ["קריאה", "עדכון", "הערה"]
}
```

</div>

## 9. ביקורת גישה לשדות (Field Access Audit)

תכונת ביקורת הגישה לשדות מספקת ניטור מקיף של ניסיונות גישה ברמת השדה ברחבי הארגון שלכם.

### גישה ליומן הביקורת

1. נווטו אל **לוח בקרה** ← **ביקורת גישה לשדות (Field Access Audit)**
2. יומן הביקורת מציג את כל ניסיונות הגישה לשדות

### הבנת רשומות הביקורת

כל רשומת ביקורת מציגה:
- **חותמת זמן (Timestamp)**: מתי התרחשה הגישה
- **משתמש (User)**: מי ניסה לגשת
- **פעולה (Action)**: סוג הגישה (קריאה/כתיבה/נדחה - Read/Write/Denied)
- **משאב (Resource)**: למה ניסו לגשת
- **שדות (Fields)**: אילו שדות ספציפיים ניסו לגשת אליהם
- **ארגון (Organization)**: הקשר הגישה
- **כתובת IP (IP Address)**: מקור הבקשה

### סינון יומני ביקורת

השתמשו במסננים כדי למצוא דפוסי גישה ספציפיים:
- **חיפוש (Search)**: מצאו לפי שם משתמש או מזהה משאב
- **סוג משאב (Resource Type)**: סננו לפי לקוח, משתמש, מוצר וכו'
- **פעולה (Action)**: הציגו רק ניסיונות קריאה, כתיבה או נדחים
- **טווח תאריכים (Date Range)**: בחרו תקופת זמן ספציפית

### ניטור אבטחה

שימו לב במיוחד ל:
- **ניסיונות גישה נדחים (Denied Access Attempts)**: עשויים להצביע על ניסיונות גישה לא מורשים
- **גישה לשדות רגישים (Sensitive Field Access)**: עקבו אחר גישה למספרי ת"ז, דירוגי אשראי וכו'
- **דפוסים חריגים (Unusual Patterns)**: ניסיונות נדחים מרובים או זמני גישה חריגים

### ייצוא נתונים

1. החילו את המסננים הרצויים
2. לחצו על **ייצוא CSV (Export CSV)** להורדת נתוני הביקורת
3. השתמשו לדיווחי ציות או ניתוח נוסף

---

## נספח ב: מדריך עזר מהיר

### היררכיית סוג ארגון
- חברה (Company) ← חטיבה (Division) ← מחלקה (Department) ← צוות (Team)
- חברה (Company) ← סוכנות ביטוח (Insurance Agency) ← סניף ביטוח (Insurance Branch)

### מוסכמת שמות תפקיד
- אותיות קטנות עם קווים תחתונים: `regional_manager`
- שמות תצוגה תיאוריים: "מנהל אזורי"

### היקף מדיניות (Policy Scope)
- **מערכת (System)**: חל על כל הארגונים
- **ארגון (Organization)**: חל על ארגון ספציפי

### משתנים דינמיים נפוצים
- `${subject.organizationId}`
- `${subject.userId}`
- `${subject.role}`
- `${environment.timestamp}`
- `${resource.owner}`

---

*עודכן לאחרונה: ינואר 2024*
*גרסה: 1.0*

</div>