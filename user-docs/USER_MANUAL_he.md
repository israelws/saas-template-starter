<div dir="rtl">

# מדריך למשתמש - פלטפורמת SAAS

## תוכן עניינים

1. [מבוא](#מבוא)
2. [התחלת העבודה](#התחלת-העבודה)
3. [ניהול ארגונים](#ניהול-ארגונים)
4. [ניהול משתמשים](#ניהול-משתמשים)
5. [ניהול תפקידים](#ניהול-תפקידים)
6. [ניהול מדיניות](#ניהול-מדיניות)
7. [ניהול תכונות](#ניהול-תכונות)
8. [שיטות עבודה מומלצות](#שיטות-עבודה-מומלצות)
9. [פתרון בעיות](#פתרון-בעיות)

---

## 1. מבוא

ברוכים הבאים למדריך המשתמש של פלטפורמת SAAS. מדריך מקיף זה יעזור לכם להבין ולהשתמש ביעילות במערכת ניהול ההרשאות המתקדמת המבוססת על בקרת גישה מבוססת תכונות (ABAC).

### מושגי מפתח

- **ארגונים**: מבנים היררכיים המייצגים חברות, חטיבות, מחלקות וצוותים
- **משתמשים**: חשבונות אישיים שיכולים להשתייך למספר ארגונים
- **תפקידים**: תפקידי עבודה או משרות (למשל: מנהל, מבקר)
- **מדיניות**: חוקים המגדירים אילו פעולות משתמשים יכולים לבצע
- **תכונות**: מאפיינים דינמיים המשמשים בהערכת מדיניות

---

## 2. התחלת העבודה

### כניסה ראשונה

1. נווטו לדף הכניסה של הפלטפורמה
2. הזינו את פרטי ההתחברות שלכם
3. בכניסה הראשונה, תופנו ללוח הבקרה
4. בחרו את הארגון הפעיל שלכם מהניווט העליון

### סקירת לוח הבקרה

לוח הבקרה הראשי מספק:
- בורר ארגונים (ימין למעלה)
- סרגל ניווט צדדי עם סעיפים מרכזיים
- סטטיסטיקות מהירות ופעילויות אחרונות
- כפתורי פעולה למשימות נפוצות

---

## 3. ניהול ארגונים

### הבנת ההיררכיה הארגונית

ארגונים עוקבים אחר מבנה היררכי קפדני:

<div dir="ltr">

```
חברה
├── חטיבה
│   ├── מחלקה
│   │   └── צוות
├── סוכנות ביטוח
│   └── סניף ביטוח
```

</div>

### יצירת ארגונים

#### דוגמה 1: יצירת חברה

1. נווטו אל **לוח בקרה > ארגונים**
2. לחצו על **"צור ארגון"**
3. מלאו את הטופס:
   - **שם**: "חברת אקמה"
   - **סוג**: חברה
   - **ארגון אב**: (השאירו ריק לחברות ראשיות)
   - **תיאור**: "הישות התאגידית הראשית"
4. לחצו **"צור"**

#### דוגמה 2: יצירת חטיבה

1. מדף הארגונים, לחצו **"צור ארגון"**
2. מלאו:
   - **שם**: "פעילות צפון אמריקה"
   - **סוג**: חטיבה
   - **ארגון אב**: בחרו "חברת אקמה" (חייב להיות חברה)
   - **תיאור**: "פעילות אזורית בצפון אמריקה"
3. לחצו **"צור"**

#### דוגמה 3: יצירת מחלקה

1. צרו ארגון חדש
2. מלאו:
   - **שם**: "מחלקת מכירות"
   - **סוג**: מחלקה
   - **ארגון אב**: בחרו "פעילות צפון אמריקה" (חייב להיות חטיבה)
   - **תיאור**: "צוות מכירות לאזור צפון אמריקה"

### ניהול ארגונים

#### צפייה בהיררכיית הארגון

1. עברו אל **לוח בקרה > ארגונים**
2. השתמשו בתצוגת העץ כדי לראות את המבנה ההיררכי
3. לחצו על כל ארגון כדי לצפות בפרטים
4. השתמשו בכפתורי הרחבה/כיווץ כדי לנווט

#### עריכת ארגונים

1. לחצו על ארגון בעץ
2. בחרו **"ערוך"** מתפריט הפעולות
3. עדכנו מידע (הערה: לא ניתן לשנות סוג ארגון)
4. שמרו שינויים

#### מגבלות ארגון

- **חברות** יכולות להכיל רק חטיבות או סוכנויות ביטוח כילדים
- **חטיבות** יכולות להכיל רק מחלקות כילדים
- **מחלקות** יכולות להכיל רק צוותים כילדים
- **צוותים** לא יכולים להכיל ארגוני ילדים
- **סוכנויות ביטוח** יכולות להכיל רק סניפי ביטוח כילדים

---

## 4. ניהול משתמשים

### יצירת משתמשים

#### דוגמה 1: יצירת משתמש מנהל

1. נווטו אל **לוח בקרה > משתמשים**
2. לחצו על **"צור משתמש"**
3. מלאו:
   - **דוא"ל**: manager@acme.com
   - **שם פרטי**: יוחנן
   - **שם משפחה**: כהן
   - **ארגונים**: בחרו "מחלקת מכירות"
   - **תפקידים**: בחרו "מנהל"
4. לחצו **"צור"**

#### דוגמה 2: יצירת משתמש רב-ארגוני

1. צרו משתמש חדש
2. מלאו מידע בסיסי
3. בסעיף ארגונים:
   - הוסיפו "פעילות צפון אמריקה" עם תפקיד "מנהל"
   - הוסיפו "פעילות אירופה" עם תפקיד "מבקר"
4. משתמש זה יוכל לעבור בין ארגונים

### ניהול חברויות משתמש

#### הוספת חברות בארגון

1. עברו לדף פרטי המשתמש
2. לחצו **"הוסף ארגון"**
3. בחרו ארגון ותפקיד
4. שמרו שינויים

#### הסרת חברות בארגון

1. עברו לדף פרטי המשתמש
2. מצאו את החברות בארגון
3. לחצו על סמל ההסרה
4. אשרו הסרה

### ניהול סטטוס משתמש

- **פעיל**: המשתמש יכול להתחבר ולגשת למשאבים
- **לא פעיל**: המשתמש לא יכול להתחבר
- **מושעה**: הגבלה זמנית, ניתן להפעיל מחדש

---

## 5. ניהול תפקידים

### הבנת תפקידים

תפקידים מגדירים תפקידי עבודה, לא הרשאות. דוגמאות:
- **מנהל מערכת**: מנהל ארגון
- **מנהל**: מנהל מחלקה או צוות
- **מבקר**: גישת קריאה בלבד למטרות ציות
- **משתמש**: משתמש סטנדרטי

### יצירת תפקידים מותאמים אישית

#### דוגמה: יצירת תפקיד מנהל אזורי

1. נווטו אל **לוח בקרה > תפקידים**
2. לחצו על **"צור תפקיד"**
3. מלאו:
   - **שם תפקיד**: regional_manager (אותיות קטנות, קווים תחתונים)
   - **שם תצוגה**: מנהל אזורי
   - **תיאור**: "מנהל מספר מחלקות באזור"
   - **סטטוס**: פעיל
4. לחצו **"צור"**

### הערות חשובות על תפקידים

- לתפקידים אין הרשאות מצורפות
- הרשאות ניתנות דרך מדיניות
- לא ניתן לערוך תפקידי מערכת (מנהל, מנהל, משתמש)
- ניתן ליצור תפקידים מותאמים אישית לצרכים ספציפיים

---

## 6. ניהול מדיניות

### הבנת מדיניות

מדיניות מגדירה מי יכול לעשות מה על אילו משאבים ובאילו תנאים.

### רכיבי מדיניות

1. **נושאים**: על מי חלה המדיניות (תפקידים, משתמשים, קבוצות)
2. **משאבים**: לאילו משאבים ניתן לגשת
3. **פעולות**: אילו פעולות מותרות
4. **תנאים**: מתי המדיניות חלה
5. **תכונות משאב**: הגדרת היקף משאבים לפי תכונות

### יצירת מדיניות

#### דוגמה 1: מדיניות מנהל מחלקה

מדיניות זו מאפשרת למנהלים לנהל את כל המשאבים במחלקה שלהם.

1. נווטו אל **לוח בקרה > מדיניות**
2. לחצו על **"צור מדיניות"**
3. הגדירו:

**מידע בסיסי:**
- שם: "גישת מנהל מחלקה"
- תיאור: "גישה מלאה למשאבי המחלקה"
- היקף: ארגון
- השפעה: אפשר

**נושאים:**
- תפקידים: ["מנהל"]

**משאבים:**
- סוגים: ["מוצר", "לקוח", "הזמנה"]
- תכונות:
  - organizationId: ${subject.organizationId}

**פעולות:**
- בחרו הכל: יצירה, קריאה, עדכון, מחיקה, רשימה

**שמרו את המדיניות**

#### דוגמה 2: מדיניות קריאה בלבד למבקר

1. צרו מדיניות חדשה
2. הגדירו:

**מידע בסיסי:**
- שם: "גישת קריאה למבקר"
- תיאור: "גישת קריאה בלבד למטרות ביקורת"
- היקף: ארגון
- השפעה: אפשר

**נושאים:**
- תפקידים: ["מבקר"]

**משאבים:**
- סוגים: ["*"] (כל סוגי המשאבים)
- תכונות:
  - organizationId: ${subject.organizationId}

**פעולות:**
- בחרו: קריאה, רשימה

**תנאים:**
- הוסיפו תנאי: subject.role === 'מבקר'

#### דוגמה 3: מדיניות גישה מבוססת זמן

1. צרו מדיניות לקבלנים עם הגבלות זמן:

**מידע בסיסי:**
- שם: "גישת שעות עבודה לקבלן"
- היקף: ארגון
- השפעה: אפשר

**נושאים:**
- תפקידים: ["קבלן"]

**משאבים:**
- סוגים: ["פרויקט", "מסמך"]
- תכונות:
  - projectId: ${subject.projectId}

**פעולות:**
- קריאה, עדכון

**תנאים:**
- הוסיפו: environment.timeOfDay >= '09:00'
- הוסיפו: environment.timeOfDay <= '17:00'
- הוסיפו: environment.dayOfWeek !== 'ראשון'
- הוסיפו: environment.dayOfWeek !== 'שבת'

### תכונות מדיניות מתקדמות

#### שימוש במשתנים דינמיים

משתנים דינמיים מאפשרים למדיניות להתאים להקשר המשתמש:

- `${subject.organizationId}` - הארגון הנוכחי של המשתמש
- `${subject.departmentId}` - המחלקה של המשתמש
- `${subject.userId}` - מזהה המשתמש
- `${environment.ipAddress}` - כתובת IP של הבקשה
- `${environment.timestamp}` - הזמן הנוכחי

#### תכונות משאב

שליטה על אילו משאבים ספציפיים המדיניות משפיעה:

<div dir="ltr">

```javascript
// רק משאבים בארגון של המשתמש
organizationId: "${subject.organizationId}"

// רק משאבים בסטטוס ספציפי
status: "פעיל"

// רק משאבים שנוצרו על ידי המשתמש
createdBy: "${subject.userId}"
```

</div>

#### תנאים מורכבים

שילוב מספר תנאים לשליטה מדויקת:

<div dir="ltr">

```javascript
// מנהל יכול לאשר הזמנות עד 10,000$
subject.role === 'מנהל' && resource.amount < 10000

// גישה רק בשעות המשרד
environment.timeOfDay >= '09:00' && environment.timeOfDay <= '18:00'

// גישה ספציפית לאזור
subject.region === resource.region
```

</div>

---

## 7. ניהול תכונות

### הבנת תכונות

תכונות הן מאפיינים דינמיים שניתן לצרף ל:
- **נושאים** (משתמשים): תפקיד, מחלקה, רמת סיווג
- **משאבים** (אובייקטים): סטטוס, בעלים, סיווג
- **סביבה** (הקשר): זמן, מיקום, סוג מכשיר

### יצירת תכונות

#### דוגמה 1: יצירת תכונת רמת סיווג

1. נווטו אל **לוח בקרה > תכונות**
2. לחצו על **"צור תכונה"**
3. הגדירו:
   - **שם**: clearanceLevel
   - **קטגוריה**: נושא
   - **סוג**: מחרוזת
   - **ערכים אפשריים**: ["ציבורי", "פנימי", "סודי", "סודי ביותר"]
   - **תיאור**: "רמת סיווג ביטחוני"
4. שמרו

#### דוגמה 2: יצירת סיווג משאב

1. צרו תכונה חדשה
2. הגדירו:
   - **שם**: classification
   - **קטגוריה**: משאב
   - **סוג**: מחרוזת
   - **ערכים אפשריים**: ["ציבורי", "פנימי", "מוגבל"]

### שימוש בתכונות במדיניות

לאחר היצירה, ניתן להשתמש בתכונות בתנאי מדיניות:

<div dir="ltr">

```javascript
// רק משתמשים עם סיווג מתאים
subject.clearanceLevel === 'סודי' || subject.clearanceLevel === 'סודי ביותר'

// התאמת סיווג לסיווג
subject.clearanceLevel >= resource.classification
```

</div>

---

## 8. שיטות עבודה מומלצות

### מבנה ארגוני

1. **שמרו על פשטות**: אל תיצרו רמות היררכיה מיותרות
2. **קיבוץ לוגי**: קבצו לפי פונקציה, לא רק גיאוגרפיה
3. **שמות עקביים**: השתמשו בשמות ברורים ותיאוריים

### עיצוב תפקידים

1. **מבוסס עבודה**: תנו שמות לתפקידים על פי תפקידי עבודה
2. **הימנעו משמות הרשאה**: אל תשתמשו ב"יכול_לערוך_מוצרים"
3. **ניתן לשימוש חוזר**: עצבו תפקידים שעובדים על פני ארגונים

### עיצוב מדיניות

1. **עקרון ההרשאה המינימלית**: תנו גישה מינימלית הכרחית
2. **השתמשו בתכונות משאב**: הגדירו מדיניות לארגון
3. **בדקו ביסודיות**: השתמשו בבודק המדיניות לפני פריסה
4. **תעדו מטרה**: תיאורים ברורים עוזרים בתחזוקה

### שיטות אבטחה מומלצות

1. **ביקורות קבועות**: סקרו מדיניות וגישה רבעונית
2. **הסירו גישה ישנה**: השביתו חשבונות לא פעילים
3. **עקבו אחר שינויים**: עקבו אחר שינויי מדיניות
4. **הפרדת תפקידים**: פצלו פעולות רגישות

---

## 9. פתרון בעיות

### בעיות נפוצות

#### שגיאות "גישה נדחתה"

1. בדקו את הארגון הפעיל של המשתמש
2. ודאו שלמשתמש יש תפקיד מתאים
3. בדקו אם קיימות מדיניות רלוונטיות
4. בדקו מדיניות עם בודק המדיניות
5. ודאו שתכונות המשאב תואמות

#### מדיניות לא עובדת

1. ודאו שהמדיניות פעילה
2. בדקו את היקף המדיניות (מערכת לעומת ארגון)
3. ודאו שהנושא תואם (תפקיד/משתמש/קבוצה)
4. בדקו תנאים עם ערכים בפועל
5. בדקו תכונות משאב

#### בעיות היררכיית ארגון

1. ודאו יחסי הורה-ילד
2. בדקו שסוגי הארגון תואמים למגבלות
3. ודאו שאין הפניות מעגליות
4. תקפו את כל השדות הנדרשים

### קבלת עזרה

1. בדקו יומני ביקורת לפרטים
2. השתמשו בבודק המדיניות לניפוי באגים
3. פנו לתמיכה עם:
   - מזהה משתמש
   - מזהה ארגון
   - זמן הבעיה
   - הודעות שגיאה

---

## נספח א: ספריית דוגמאות מדיניות

### היררכיית אישור פיננסי

<div dir="ltr">

```javascript
// צוות זוטר: עד 1,000$
{
  subjects: { roles: ["צוות"] },
  resources: { types: ["הזמנת_רכש"] },
  actions: ["יצירה", "קריאה"],
  conditions: ["resource.amount <= 1000"]
}

// מנהלים: עד 10,000$
{
  subjects: { roles: ["מנהל"] },
  resources: { types: ["הזמנת_רכש"] },
  actions: ["יצירה", "קריאה", "אישור"],
  conditions: ["resource.amount <= 10000"]
}

// מנהלים בכירים: עד 100,000$
{
  subjects: { roles: ["מנהל_בכיר"] },
  resources: { types: ["הזמנת_רכש"] },
  actions: ["יצירה", "קריאה", "אישור"],
  conditions: ["resource.amount <= 100000"]
}
```

</div>

### בידוד מחלקתי

<div dir="ltr">

```javascript
// משתמשים יכולים לראות רק את נתוני המחלקה שלהם
{
  subjects: { roles: ["משתמש"] },
  resources: { 
    types: ["*"],
    attributes: {
      departmentId: "${subject.departmentId}"
    }
  },
  actions: ["קריאה", "רשימה"]
}
```

</div>

### שיתוף פעולה בין מחלקות

<div dir="ltr">

```javascript
// חברי פרויקט יכולים לגשת למשאבי הפרויקט ללא קשר למחלקה
{
  subjects: { groups: ["חברי_פרויקט"] },
  resources: { 
    types: ["פרויקט", "משימה", "מסמך"],
    attributes: {
      projectId: "${subject.projects}"
    }
  },
  actions: ["קריאה", "עדכון", "הערה"]
}
```

</div>

---

## נספח ב: מדריך עזר מהיר

### היררכיית סוג ארגון
- חברה ← חטיבה ← מחלקה ← צוות
- חברה ← סוכנות ביטוח ← סניף ביטוח

### מוסכמת שמות תפקיד
- אותיות קטנות עם קווים תחתונים: `regional_manager`
- שמות תצוגה תיאוריים: "מנהל אזורי"

### היקף מדיניות
- **מערכת**: חל על כל הארגונים
- **ארגון**: חל על ארגון ספציפי

### משתנים דינמיים נפוצים
- `${subject.organizationId}`
- `${subject.userId}`
- `${subject.role}`
- `${environment.timestamp}`
- `${resource.owner}`

---

*עודכן לאחרונה: ינואר 2024*
*גרסה: 1.0*

</div>